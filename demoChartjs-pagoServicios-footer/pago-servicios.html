<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <!-- SweetAlert2 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <!-- SweetAlert2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
    <!-- Estilos personalizados -->
    <style>
        /* Estilos de background de categorias (collapse) */
        .custom-bg {
            background-color: #ffefef;
            background-image:
                url('../assets/img/gastly.png');
            background-repeat: repeat;
            background-size: 60px 60px;
            /* Mismo tama√±o para todas */
            background-blend-mode: overlay;
            /* Mezcla los fondos */
            opacity: 0.8;
            /* Transparencia para que no sea muy intenso */
        }
    </style>

    <title>Pago de Servicios</title>
</head>

<body class="mt-5">
    <div class="container px-0 pb-5">
        <h2 class="display-3 fw-bolder text-dark py-3"> > Pago de Servicios</h2>
    </div>
    <div class="container px-0">
        <h4 class="h2 fw-bolder text-dark py-3">Selecciona una categor√≠a</h4>
    </div>
    <div class="container pt-5 custom-bg rounded-3 shadow p-3">

        <div class="pb-5">
            <!-- Bot√≥n que activa el collapse energia electrica-->
            <div class="d-block w-50 mb-2 mx-auto">
                <button class="btn btn-danger w-100 fw-bolder shadow" type="button" data-bs-toggle="collapse"
                    data-bs-target="#listaEnergiaElectrica" aria-expanded="false" aria-controls="listaEnergiaElectrica">
                    ‚ö° Servicios de Energ√≠a El√©ctrica
                </button>
            </div>

            <!-- Contenedor collapse que contiene la lista de enlaces Energ√≠a electrica -->
            <div class="collapse mb-3 w-50 mx-auto" id="listaEnergiaElectrica">
                <div class="card card-body">
                    <div class="list-group fw-bold">
                        <a href="#" class="list-group-item list-group-item-action" data-bs-toggle="modal"
                            data-bs-target="#modalUno">CAESS</a>
                        <a href="#" class="list-group-item list-group-item-action" data-bs-toggle="modal"
                            data-bs-target="#modalUno">CLESSA</a>
                        <a href="#" class="list-group-item list-group-item-action" data-bs-toggle="modal"
                            data-bs-target="#modalUno">DEL SUR</a>
                        <a href="#" class="list-group-item list-group-item-action" data-bs-toggle="modal"
                            data-bs-target="#modalUno">DEUSEM</a>
                        <a href="#" class="list-group-item list-group-item-action" data-bs-toggle="modal"
                            data-bs-target="#modalUno">EEO</a>
                    </div>
                </div>
            </div>
        </div>


        <div class="pb-5">
            <!-- Bot√≥n que activa el collapse energia internet-->
            <div class="d-block w-50 mb-2 mx-auto">
                <button class="btn btn-danger w-100 fw-bolder shadow" type="button" data-bs-toggle="collapse"
                    data-bs-target="#listaInternet" aria-expanded="false" aria-controls="listaInternet">
                    üåê Servicios de Internet residencial
                </button>
            </div>

            <!-- Contenedor collapse que contiene la lista de enlaces Internet -->
            <div class="collapse mb-3 w-50 mx-auto" id="listaInternet">
                <div class="card card-body">
                    <div class="list-group fw-bold">
                        <a href="#" class="list-group-item list-group-item-action" data-bs-toggle="modal"
                            data-bs-target="#modalUno">Claro</a>
                        <a href="#" class="list-group-item list-group-item-action" data-bs-toggle="modal"
                            data-bs-target="#modalUno">Tigo</a>
                        <a href="#" class="list-group-item list-group-item-action" data-bs-toggle="modal"
                            data-bs-target="#modalUno">Salnet</a>
                        <a href="#" class="list-group-item list-group-item-action" data-bs-toggle="modal"
                            data-bs-target="#modalUno">Starlink</a>
                    </div>
                </div>
            </div>


        </div>

        <div class="pb-5">
            <!-- Bot√≥n que activa el collapse energia telefonia-->
            <div class="d-block w-50 mb-2 mx-auto">
                <button class="btn btn-danger w-100 fw-bolder shadow" type="button" data-bs-toggle="collapse"
                    data-bs-target="#listatelefonia" aria-expanded="false" aria-controls="listatelefonia">
                    üìû Servicios de Telefon√≠a Movil
                </button>
            </div>

            <!-- Contenedor collapse que contiene la lista de enlaces telefonia -->
            <div class="collapse mb-3 w-50 mx-auto" id="listatelefonia">
                <div class="card card-body">
                    <div class="list-group fw-bold">
                        <a href="#" class="list-group-item list-group-item-action" data-bs-toggle="modal"
                            data-bs-target="#modalUno">Claro</a>
                        <a href="#" class="list-group-item list-group-item-action" data-bs-toggle="modal"
                            data-bs-target="#modalUno">Tigo</a>
                        <a href="#" class="list-group-item list-group-item-action" data-bs-toggle="modal"
                            data-bs-target="#modalUno">Digicel</a>
                        <a href="#" class="list-group-item list-group-item-action" data-bs-toggle="modal"
                            data-bs-target="#modalUno">Movistar</a>
                    </div>
                </div>
            </div>

        </div>

        <div class="pb-5">
            <!-- Bot√≥n que activa el collapse energia Agua potable-->
            <div class="d-block w-50 mb-2 mx-auto">
                <button class="btn btn-danger w-100 fw-bolder shadow" type="button" data-bs-toggle="collapse"
                    data-bs-target="#listaAgua" aria-expanded="false" aria-controls="listaAgua">
                    üíß Servicios de Agua Potable
                </button>
            </div>

            <!-- Contenedor collapse que contiene la lista de enlaces agua potable -->
            <div class="collapse mb-3 w-50 mx-auto" id="listaAgua">
                <div class="card card-body">
                    <div class="list-group fw-bold">
                        <a href="#" class="list-group-item list-group-item-action" data-bs-toggle="modal"
                            data-bs-target="#modalUno">ANDA</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="modalUno" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">PAGO DE COLECTORES</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Codigo insertado por JS -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" onclick="aplicarPago()">
                        Aplicar Pago
                    </button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Script bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous">
        </script>

    <!-- Script personalizado -->
    <script>
        const modalUno = document.getElementById('modalUno');
        modalUno.addEventListener('show.bs.modal', function (event) {
            // El bot√≥n que activ√≥ el modal
            const button = event.relatedTarget;

            // Obtener data atributos
            const contenedorBisabuelo = button.parentElement.parentElement.parentElement;
            const idBisabuelo = contenedorBisabuelo.id;
            const texto = button.textContent;
            //generar nombre de categoria correcto
            const categoria = generarNombreCategoria(idBisabuelo)

            // Mostrar informaci√≥n en el modal
            const modalBody = modalUno.querySelector('.modal-body');
            modalBody.innerHTML = `
            <!-- Informaci√≥n con estilo rojo/acento -->
            <div class="alert alert-danger mb-3 border-0">
                <div class="d-flex">
                    <div class="me-3">
                        <i class="bi bi-building fs-4 text-danger"></i>
                    </div>
                    <div>
                        <strong class="text-dark">Servicios de ${categoria}</strong><br>
                        <small class="text-muted">Colector: <strong>${texto}</strong></small>
                    </div>
                </div>
            </div>

            <!-- Campo de entrada -->
            <div class="mb-3">
                <label class="form-label fw-semibold text-dark">
                    <i class="bi bi-key text-danger me-1"></i>
                    Identificador
                </label>
                <input type="text" 
                    class="form-control border-danger" 
                    id="referencia" 
                    placeholder="Ej: 123456789" 
                    required>
                <div class="form-text text-muted">
                    Ingrese su n√∫mero de referencia
                </div>
            </div>
    `;
        });

        function generarNombreCategoria(id) {
            if (id == "listaEnergiaElectrica") {
                return "Energ√≠a Electrica"
            }
            if (id == "listaInternet") {
                return "Internet residencial"
            }
            if (id == "listatelefonia") {
                return "Telefon√≠a M√≥vil"
            }
            if (id == "listaAgua") {
                return "Agua Potable"
            }
        }


        function aplicarPago() {
            // Cierra el modal manualmente
            const modal = bootstrap.Modal.getInstance(document.getElementById('modalUno'));
            modal.hide();

            // Muestra alerta elegante
            Swal.fire({
                icon: 'success',
                title: '¬°√âxito!',
                text: 'Pago aplicado con √©xito',
                confirmButtonColor: '#dc3545'
            });
        }

    </script>
</body>

</html>